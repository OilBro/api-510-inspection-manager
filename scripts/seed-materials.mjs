import { drizzle } from 'drizzle-orm/mysql2';
import mysql from 'mysql2/promise';

const DATABASE_URL = process.env.DATABASE_URL;

if (!DATABASE_URL) {
  console.error('DATABASE_URL environment variable is required');
  process.exit(1);
}

// Material stress data - ASME Section II Part D values
// Format: { materialSpec, category, temperatures: { temp: stress } }
const materials = [
  // Carbon Steel
  { spec: 'SA-516 Gr. 70', category: 'carbon_steel', stresses: { '-20': 20000, '100': 20000, '200': 20000, '300': 20000, '400': 18800, '500': 17300, '600': 15800, '650': 14900, '700': 13200, '750': 10800, '800': 8000 } },
  { spec: 'SA-516 Gr. 65', category: 'carbon_steel', stresses: { '-20': 18600, '100': 18600, '200': 18600, '300': 18600, '400': 17500, '500': 16100, '600': 14700, '650': 13900, '700': 12300, '750': 10100, '800': 7500 } },
  { spec: 'SA-516 Gr. 60', category: 'carbon_steel', stresses: { '-20': 17100, '100': 17100, '200': 17100, '300': 17100, '400': 16100, '500': 14800, '600': 13500, '650': 12800, '700': 11300, '750': 9300, '800': 6900 } },
  { spec: 'SA-516 Gr. 55', category: 'carbon_steel', stresses: { '-20': 15700, '100': 15700, '200': 15700, '300': 15700, '400': 14800, '500': 13600, '600': 12400, '650': 11800, '700': 10400, '750': 8500, '800': 6300 } },
  { spec: 'SA-285 Gr. C', category: 'carbon_steel', stresses: { '-20': 13800, '100': 13800, '200': 13800, '300': 13800, '400': 13000, '500': 12000, '600': 10900, '650': 10300, '700': 9100, '750': 7500, '800': 5500 } },
  { spec: 'SA-285 Gr. B', category: 'carbon_steel', stresses: { '-20': 12500, '100': 12500, '200': 12500, '300': 12500, '400': 11800, '500': 10800, '600': 9900, '650': 9400, '700': 8300, '750': 6800, '800': 5000 } },
  { spec: 'SA-285 Gr. A', category: 'carbon_steel', stresses: { '-20': 11300, '100': 11300, '200': 11300, '300': 11300, '400': 10600, '500': 9800, '600': 8900, '650': 8400, '700': 7500, '750': 6100, '800': 4500 } },
  { spec: 'SA-36', category: 'carbon_steel', stresses: { '-20': 16600, '100': 16600, '200': 16600, '300': 16600, '400': 15600, '500': 14400, '600': 13100, '650': 12400, '700': 11000, '750': 9000, '800': 6700 } },
  { spec: 'SA-283 Gr. D', category: 'carbon_steel', stresses: { '-20': 15000, '100': 15000, '200': 15000, '300': 15000, '400': 14100, '500': 13000, '600': 11900, '650': 11200, '700': 9900, '750': 8100, '800': 6000 } },
  { spec: 'SA-283 Gr. C', category: 'carbon_steel', stresses: { '-20': 13300, '100': 13300, '200': 13300, '300': 13300, '400': 12500, '500': 11500, '600': 10500, '650': 9900, '700': 8800, '750': 7200, '800': 5300 } },
  { spec: 'SA-515 Gr. 70', category: 'carbon_steel', stresses: { '-20': 20000, '100': 20000, '200': 20000, '300': 20000, '400': 18800, '500': 17300, '600': 15800, '650': 14900, '700': 13200, '750': 10800, '800': 8000 } },
  { spec: 'SA-515 Gr. 65', category: 'carbon_steel', stresses: { '-20': 18600, '100': 18600, '200': 18600, '300': 18600, '400': 17500, '500': 16100, '600': 14700, '650': 13900, '700': 12300, '750': 10100, '800': 7500 } },
  { spec: 'SA-515 Gr. 60', category: 'carbon_steel', stresses: { '-20': 17100, '100': 17100, '200': 17100, '300': 17100, '400': 16100, '500': 14800, '600': 13500, '650': 12800, '700': 11300, '750': 9300, '800': 6900 } },
  
  // Stainless Steel - 300 Series
  { spec: 'SA-240 Type 304', category: 'stainless_steel', stresses: { '-20': 20000, '100': 20000, '200': 20000, '300': 18700, '400': 17500, '500': 16400, '600': 15500, '700': 14800, '800': 14300, '900': 13800, '1000': 13300, '1100': 12100, '1200': 9700, '1300': 6800, '1400': 4500, '1500': 2800 } },
  { spec: 'SA-240 Type 304L', category: 'stainless_steel', stresses: { '-20': 16700, '100': 16700, '200': 16700, '300': 15600, '400': 14600, '500': 13700, '600': 12900, '700': 12300, '800': 11900, '900': 11500, '1000': 11100, '1100': 10100, '1200': 8100, '1300': 5700, '1400': 3800, '1500': 2300 } },
  { spec: 'SA-240 Type 304H', category: 'stainless_steel', stresses: { '-20': 20000, '100': 20000, '200': 20000, '300': 18700, '400': 17500, '500': 16400, '600': 15500, '700': 14800, '800': 14300, '900': 13800, '1000': 13300, '1100': 12100, '1200': 9700, '1300': 6800, '1400': 4500, '1500': 2800 } },
  { spec: 'SA-240 Type 316', category: 'stainless_steel', stresses: { '-20': 20000, '100': 20000, '200': 20000, '300': 18700, '400': 17500, '500': 16400, '600': 15500, '700': 14800, '800': 14300, '900': 13800, '1000': 13300, '1100': 11700, '1200': 9000, '1300': 6200, '1400': 4000, '1500': 2500 } },
  { spec: 'SA-240 Type 316L', category: 'stainless_steel', stresses: { '-20': 16700, '100': 16700, '200': 16700, '300': 15600, '400': 14600, '500': 13700, '600': 12900, '700': 12300, '800': 11900, '900': 11500, '1000': 11100, '1100': 9800, '1200': 7500, '1300': 5200, '1400': 3300, '1500': 2100 } },
  { spec: 'SA-240 Type 316H', category: 'stainless_steel', stresses: { '-20': 20000, '100': 20000, '200': 20000, '300': 18700, '400': 17500, '500': 16400, '600': 15500, '700': 14800, '800': 14300, '900': 13800, '1000': 13300, '1100': 11700, '1200': 9000, '1300': 6200, '1400': 4000, '1500': 2500 } },
  { spec: 'SA-240 Type 321', category: 'stainless_steel', stresses: { '-20': 20000, '100': 20000, '200': 20000, '300': 18700, '400': 17500, '500': 16400, '600': 15500, '700': 14800, '800': 14300, '900': 13800, '1000': 13300, '1100': 11700, '1200': 9000, '1300': 6200, '1400': 4000, '1500': 2500 } },
  { spec: 'SA-240 Type 321H', category: 'stainless_steel', stresses: { '-20': 20000, '100': 20000, '200': 20000, '300': 18700, '400': 17500, '500': 16400, '600': 15500, '700': 14800, '800': 14300, '900': 13800, '1000': 13300, '1100': 11700, '1200': 9000, '1300': 6200, '1400': 4000, '1500': 2500 } },
  { spec: 'SA-240 Type 347', category: 'stainless_steel', stresses: { '-20': 20000, '100': 20000, '200': 20000, '300': 18700, '400': 17500, '500': 16400, '600': 15500, '700': 14800, '800': 14300, '900': 13800, '1000': 13300, '1100': 11700, '1200': 9000, '1300': 6200, '1400': 4000, '1500': 2500 } },
  { spec: 'SA-240 Type 347H', category: 'stainless_steel', stresses: { '-20': 20000, '100': 20000, '200': 20000, '300': 18700, '400': 17500, '500': 16400, '600': 15500, '700': 14800, '800': 14300, '900': 13800, '1000': 13300, '1100': 11700, '1200': 9000, '1300': 6200, '1400': 4000, '1500': 2500 } },
  { spec: 'SA-240 Type 309', category: 'stainless_steel', stresses: { '-20': 20000, '100': 20000, '200': 20000, '300': 18700, '400': 17500, '500': 16400, '600': 15500, '700': 14800, '800': 14300, '900': 13800, '1000': 13300, '1100': 11700, '1200': 9000, '1300': 6200, '1400': 4000, '1500': 2500 } },
  { spec: 'SA-240 Type 310', category: 'stainless_steel', stresses: { '-20': 20000, '100': 20000, '200': 20000, '300': 18700, '400': 17500, '500': 16400, '600': 15500, '700': 14800, '800': 14300, '900': 13800, '1000': 13300, '1100': 11700, '1200': 9000, '1300': 6200, '1400': 4000, '1500': 2500 } },
  
  // Chrome-Moly Alloys
  { spec: 'SA-387 Gr. 11 Cl. 1', category: 'chrome_moly', stresses: { '-20': 17500, '100': 17500, '200': 17500, '300': 17500, '400': 17500, '500': 17500, '600': 17500, '650': 17500, '700': 17200, '750': 16500, '800': 15000, '850': 12700, '900': 10000, '950': 7400, '1000': 5200, '1050': 3600, '1100': 2500 } },
  { spec: 'SA-387 Gr. 11 Cl. 2', category: 'chrome_moly', stresses: { '-20': 22500, '100': 22500, '200': 22500, '300': 22500, '400': 22500, '500': 22500, '600': 22500, '650': 22500, '700': 22100, '750': 21200, '800': 19300, '850': 16300, '900': 12900, '950': 9500, '1000': 6700, '1050': 4600, '1100': 3200 } },
  { spec: 'SA-387 Gr. 12 Cl. 1', category: 'chrome_moly', stresses: { '-20': 17500, '100': 17500, '200': 17500, '300': 17500, '400': 17500, '500': 17500, '600': 17500, '650': 17500, '700': 17200, '750': 16500, '800': 15000, '850': 12700, '900': 10000, '950': 7400, '1000': 5200, '1050': 3600, '1100': 2500 } },
  { spec: 'SA-387 Gr. 12 Cl. 2', category: 'chrome_moly', stresses: { '-20': 22500, '100': 22500, '200': 22500, '300': 22500, '400': 22500, '500': 22500, '600': 22500, '650': 22500, '700': 22100, '750': 21200, '800': 19300, '850': 16300, '900': 12900, '950': 9500, '1000': 6700, '1050': 4600, '1100': 3200 } },
  { spec: 'SA-387 Gr. 22 Cl. 1', category: 'chrome_moly', stresses: { '-20': 17500, '100': 17500, '200': 17500, '300': 17500, '400': 17500, '500': 17500, '600': 17500, '650': 17500, '700': 17500, '750': 17500, '800': 17300, '850': 16100, '900': 13900, '950': 11100, '1000': 8300, '1050': 5900, '1100': 4100 } },
  { spec: 'SA-387 Gr. 22 Cl. 2', category: 'chrome_moly', stresses: { '-20': 22500, '100': 22500, '200': 22500, '300': 22500, '400': 22500, '500': 22500, '600': 22500, '650': 22500, '700': 22500, '750': 22500, '800': 22200, '850': 20700, '900': 17900, '950': 14300, '1000': 10700, '1050': 7600, '1100': 5300 } },
  { spec: 'SA-387 Gr. 5 Cl. 1', category: 'chrome_moly', stresses: { '-20': 17500, '100': 17500, '200': 17500, '300': 17500, '400': 17500, '500': 17500, '600': 17500, '650': 17500, '700': 17500, '750': 17500, '800': 17300, '850': 16100, '900': 13900, '950': 11100, '1000': 8300, '1050': 5900, '1100': 4100 } },
  { spec: 'SA-387 Gr. 5 Cl. 2', category: 'chrome_moly', stresses: { '-20': 22500, '100': 22500, '200': 22500, '300': 22500, '400': 22500, '500': 22500, '600': 22500, '650': 22500, '700': 22500, '750': 22500, '800': 22200, '850': 20700, '900': 17900, '950': 14300, '1000': 10700, '1050': 7600, '1100': 5300 } },
  { spec: 'SA-387 Gr. 9 Cl. 1', category: 'chrome_moly', stresses: { '-20': 17500, '100': 17500, '200': 17500, '300': 17500, '400': 17500, '500': 17500, '600': 17500, '650': 17500, '700': 17500, '750': 17500, '800': 17300, '850': 16100, '900': 13900, '950': 11100, '1000': 8300, '1050': 5900, '1100': 4100 } },
  { spec: 'SA-387 Gr. 9 Cl. 2', category: 'chrome_moly', stresses: { '-20': 22500, '100': 22500, '200': 22500, '300': 22500, '400': 22500, '500': 22500, '600': 22500, '650': 22500, '700': 22500, '750': 22500, '800': 22200, '850': 20700, '900': 17900, '950': 14300, '1000': 10700, '1050': 7600, '1100': 5300 } },
  { spec: 'SA-387 Gr. 91 Cl. 2', category: 'chrome_moly', stresses: { '-20': 25000, '100': 25000, '200': 25000, '300': 25000, '400': 25000, '500': 25000, '600': 25000, '650': 25000, '700': 25000, '750': 25000, '800': 25000, '850': 24200, '900': 22500, '950': 19500, '1000': 15700, '1050': 11800, '1100': 8300 } },
  
  // Nickel Alloys
  { spec: 'SB-168 UNS N06600', category: 'nickel_alloy', stresses: { '-20': 23300, '100': 23300, '200': 23300, '300': 22900, '400': 22400, '500': 22000, '600': 21600, '700': 21200, '800': 20800, '900': 20400, '1000': 20000, '1100': 19600, '1200': 18400, '1300': 15800, '1400': 12000, '1500': 8200 } },
  { spec: 'SB-168 UNS N06625', category: 'nickel_alloy', stresses: { '-20': 33300, '100': 33300, '200': 33300, '300': 32800, '400': 32100, '500': 31500, '600': 30900, '700': 30300, '800': 29700, '900': 29100, '1000': 28500, '1100': 27900, '1200': 26300, '1300': 22600, '1400': 17100, '1500': 11700 } },
  { spec: 'SB-168 UNS N08800', category: 'nickel_alloy', stresses: { '-20': 20000, '100': 20000, '200': 20000, '300': 19700, '400': 19300, '500': 18900, '600': 18500, '700': 18100, '800': 17700, '900': 17300, '1000': 16900, '1100': 16500, '1200': 15500, '1300': 13300, '1400': 10100, '1500': 6900 } },
  { spec: 'SB-168 UNS N08810', category: 'nickel_alloy', stresses: { '-20': 20000, '100': 20000, '200': 20000, '300': 19700, '400': 19300, '500': 18900, '600': 18500, '700': 18100, '800': 17700, '900': 17300, '1000': 16900, '1100': 16500, '1200': 15500, '1300': 13300, '1400': 10100, '1500': 6900 } },
  { spec: 'SB-168 UNS N08825', category: 'nickel_alloy', stresses: { '-20': 23300, '100': 23300, '200': 23300, '300': 22900, '400': 22400, '500': 22000, '600': 21600, '700': 21200, '800': 20800, '900': 20400, '1000': 20000, '1100': 19600, '1200': 18400, '1300': 15800, '1400': 12000, '1500': 8200 } },
  { spec: 'SB-443 UNS N06625', category: 'nickel_alloy', stresses: { '-20': 33300, '100': 33300, '200': 33300, '300': 32800, '400': 32100, '500': 31500, '600': 30900, '700': 30300, '800': 29700, '900': 29100, '1000': 28500, '1100': 27900, '1200': 26300, '1300': 22600, '1400': 17100, '1500': 11700 } },
  
  // Duplex Stainless Steel
  { spec: 'SA-240 UNS S31803', category: 'duplex_stainless', stresses: { '-20': 25000, '100': 25000, '200': 25000, '300': 24500, '400': 23900, '500': 23300, '600': 22700 } },
  { spec: 'SA-240 UNS S32205', category: 'duplex_stainless', stresses: { '-20': 25000, '100': 25000, '200': 25000, '300': 24500, '400': 23900, '500': 23300, '600': 22700 } },
  { spec: 'SA-240 UNS S32750', category: 'duplex_stainless', stresses: { '-20': 32500, '100': 32500, '200': 32500, '300': 31900, '400': 31100, '500': 30300, '600': 29500 } },
  { spec: 'SA-240 UNS S32760', category: 'duplex_stainless', stresses: { '-20': 32500, '100': 32500, '200': 32500, '300': 31900, '400': 31100, '500': 30300, '600': 29500 } },
  
  // Low Alloy Steel
  { spec: 'SA-204 Gr. A', category: 'low_alloy', stresses: { '-20': 17500, '100': 17500, '200': 17500, '300': 17500, '400': 17500, '500': 17500, '600': 17500, '650': 17200, '700': 15600, '750': 13000, '800': 10000 } },
  { spec: 'SA-204 Gr. B', category: 'low_alloy', stresses: { '-20': 20000, '100': 20000, '200': 20000, '300': 20000, '400': 20000, '500': 20000, '600': 20000, '650': 19700, '700': 17900, '750': 14900, '800': 11400 } },
  { spec: 'SA-204 Gr. C', category: 'low_alloy', stresses: { '-20': 22500, '100': 22500, '200': 22500, '300': 22500, '400': 22500, '500': 22500, '600': 22500, '650': 22100, '700': 20100, '750': 16700, '800': 12900 } },
  { spec: 'SA-302 Gr. A', category: 'low_alloy', stresses: { '-20': 20000, '100': 20000, '200': 20000, '300': 20000, '400': 20000, '500': 20000, '600': 20000, '650': 19700, '700': 17900, '750': 14900, '800': 11400 } },
  { spec: 'SA-302 Gr. B', category: 'low_alloy', stresses: { '-20': 22500, '100': 22500, '200': 22500, '300': 22500, '400': 22500, '500': 22500, '600': 22500, '650': 22100, '700': 20100, '750': 16700, '800': 12900 } },
  { spec: 'SA-302 Gr. C', category: 'low_alloy', stresses: { '-20': 25000, '100': 25000, '200': 25000, '300': 25000, '400': 25000, '500': 25000, '600': 25000, '650': 24500, '700': 22300, '750': 18500, '800': 14300 } },
  { spec: 'SA-302 Gr. D', category: 'low_alloy', stresses: { '-20': 27500, '100': 27500, '200': 27500, '300': 27500, '400': 27500, '500': 27500, '600': 27500, '650': 27000, '700': 24500, '750': 20400, '800': 15700 } },
  { spec: 'SA-533 Type A Cl. 1', category: 'low_alloy', stresses: { '-20': 22500, '100': 22500, '200': 22500, '300': 22500, '400': 22500, '500': 22500, '600': 22500, '650': 22100, '700': 20100, '750': 16700, '800': 12900 } },
  { spec: 'SA-533 Type A Cl. 2', category: 'low_alloy', stresses: { '-20': 25000, '100': 25000, '200': 25000, '300': 25000, '400': 25000, '500': 25000, '600': 25000, '650': 24500, '700': 22300, '750': 18500, '800': 14300 } },
  { spec: 'SA-533 Type B Cl. 1', category: 'low_alloy', stresses: { '-20': 22500, '100': 22500, '200': 22500, '300': 22500, '400': 22500, '500': 22500, '600': 22500, '650': 22100, '700': 20100, '750': 16700, '800': 12900 } },
  { spec: 'SA-533 Type B Cl. 2', category: 'low_alloy', stresses: { '-20': 25000, '100': 25000, '200': 25000, '300': 25000, '400': 25000, '500': 25000, '600': 25000, '650': 24500, '700': 22300, '750': 18500, '800': 14300 } },
  
  // Additional Carbon Steel Plates
  { spec: 'SA-299', category: 'carbon_steel', stresses: { '-20': 20000, '100': 20000, '200': 20000, '300': 20000, '400': 18800, '500': 17300, '600': 15800, '650': 14900, '700': 13200, '750': 10800, '800': 8000 } },
  { spec: 'SA-455', category: 'carbon_steel', stresses: { '-20': 21400, '100': 21400, '200': 21400, '300': 21400, '400': 20100, '500': 18500, '600': 16900, '650': 16000, '700': 14100, '750': 11600, '800': 8600 } },
  { spec: 'SA-612', category: 'carbon_steel', stresses: { '-20': 22500, '100': 22500, '200': 22500, '300': 22500, '400': 21200, '500': 19500, '600': 17800, '650': 16800, '700': 14900, '750': 12200, '800': 9000 } },
  { spec: 'SA-662 Gr. A', category: 'carbon_steel', stresses: { '-20': 17100, '100': 17100, '200': 17100, '300': 17100, '400': 16100, '500': 14800, '600': 13500, '650': 12800, '700': 11300, '750': 9300, '800': 6900 } },
  { spec: 'SA-662 Gr. B', category: 'carbon_steel', stresses: { '-20': 18600, '100': 18600, '200': 18600, '300': 18600, '400': 17500, '500': 16100, '600': 14700, '650': 13900, '700': 12300, '750': 10100, '800': 7500 } },
  { spec: 'SA-662 Gr. C', category: 'carbon_steel', stresses: { '-20': 20000, '100': 20000, '200': 20000, '300': 20000, '400': 18800, '500': 17300, '600': 15800, '650': 14900, '700': 13200, '750': 10800, '800': 8000 } },
  
  // Stainless Steel - 400 Series
  { spec: 'SA-240 Type 405', category: 'stainless_steel', stresses: { '-20': 15000, '100': 15000, '200': 15000, '300': 14700, '400': 14300, '500': 13900, '600': 13500, '700': 13100, '800': 12700 } },
  { spec: 'SA-240 Type 410', category: 'stainless_steel', stresses: { '-20': 20000, '100': 20000, '200': 20000, '300': 19600, '400': 19100, '500': 18600, '600': 18100, '700': 17600, '800': 17100 } },
  { spec: 'SA-240 Type 410S', category: 'stainless_steel', stresses: { '-20': 17100, '100': 17100, '200': 17100, '300': 16800, '400': 16400, '500': 15900, '600': 15500, '700': 15000, '800': 14600 } },
  { spec: 'SA-240 Type 430', category: 'stainless_steel', stresses: { '-20': 16700, '100': 16700, '200': 16700, '300': 16400, '400': 16000, '500': 15500, '600': 15100, '700': 14600, '800': 14200 } },
  
  // Pipe Materials
  { spec: 'SA-106 Gr. B', category: 'carbon_steel', stresses: { '-20': 17100, '100': 17100, '200': 17100, '300': 17100, '400': 16100, '500': 14800, '600': 13500, '650': 12800, '700': 11300, '750': 9300, '800': 6900 } },
  { spec: 'SA-106 Gr. C', category: 'carbon_steel', stresses: { '-20': 20000, '100': 20000, '200': 20000, '300': 20000, '400': 18800, '500': 17300, '600': 15800, '650': 14900, '700': 13200, '750': 10800, '800': 8000 } },
  { spec: 'SA-53 Gr. B', category: 'carbon_steel', stresses: { '-20': 17100, '100': 17100, '200': 17100, '300': 17100, '400': 16100, '500': 14800, '600': 13500, '650': 12800, '700': 11300, '750': 9300, '800': 6900 } },
  { spec: 'SA-335 Gr. P11', category: 'chrome_moly', stresses: { '-20': 17500, '100': 17500, '200': 17500, '300': 17500, '400': 17500, '500': 17500, '600': 17500, '650': 17500, '700': 17200, '750': 16500, '800': 15000, '850': 12700, '900': 10000, '950': 7400, '1000': 5200 } },
  { spec: 'SA-335 Gr. P22', category: 'chrome_moly', stresses: { '-20': 17500, '100': 17500, '200': 17500, '300': 17500, '400': 17500, '500': 17500, '600': 17500, '650': 17500, '700': 17500, '750': 17500, '800': 17300, '850': 16100, '900': 13900, '950': 11100, '1000': 8300 } },
  { spec: 'SA-335 Gr. P5', category: 'chrome_moly', stresses: { '-20': 17500, '100': 17500, '200': 17500, '300': 17500, '400': 17500, '500': 17500, '600': 17500, '650': 17500, '700': 17500, '750': 17500, '800': 17300, '850': 16100, '900': 13900, '950': 11100, '1000': 8300 } },
  { spec: 'SA-335 Gr. P9', category: 'chrome_moly', stresses: { '-20': 17500, '100': 17500, '200': 17500, '300': 17500, '400': 17500, '500': 17500, '600': 17500, '650': 17500, '700': 17500, '750': 17500, '800': 17300, '850': 16100, '900': 13900, '950': 11100, '1000': 8300 } },
  { spec: 'SA-335 Gr. P91', category: 'chrome_moly', stresses: { '-20': 25000, '100': 25000, '200': 25000, '300': 25000, '400': 25000, '500': 25000, '600': 25000, '650': 25000, '700': 25000, '750': 25000, '800': 25000, '850': 24200, '900': 22500, '950': 19500, '1000': 15700 } },
  
  // Stainless Steel Pipe
  { spec: 'SA-312 TP304', category: 'stainless_steel', stresses: { '-20': 20000, '100': 20000, '200': 20000, '300': 18700, '400': 17500, '500': 16400, '600': 15500, '700': 14800, '800': 14300, '900': 13800, '1000': 13300, '1100': 12100, '1200': 9700, '1300': 6800, '1400': 4500, '1500': 2800 } },
  { spec: 'SA-312 TP304L', category: 'stainless_steel', stresses: { '-20': 16700, '100': 16700, '200': 16700, '300': 15600, '400': 14600, '500': 13700, '600': 12900, '700': 12300, '800': 11900, '900': 11500, '1000': 11100, '1100': 10100, '1200': 8100, '1300': 5700, '1400': 3800, '1500': 2300 } },
  { spec: 'SA-312 TP316', category: 'stainless_steel', stresses: { '-20': 20000, '100': 20000, '200': 20000, '300': 18700, '400': 17500, '500': 16400, '600': 15500, '700': 14800, '800': 14300, '900': 13800, '1000': 13300, '1100': 11700, '1200': 9000, '1300': 6200, '1400': 4000, '1500': 2500 } },
  { spec: 'SA-312 TP316L', category: 'stainless_steel', stresses: { '-20': 16700, '100': 16700, '200': 16700, '300': 15600, '400': 14600, '500': 13700, '600': 12900, '700': 12300, '800': 11900, '900': 11500, '1000': 11100, '1100': 9800, '1200': 7500, '1300': 5200, '1400': 3300, '1500': 2100 } },
  { spec: 'SA-312 TP321', category: 'stainless_steel', stresses: { '-20': 20000, '100': 20000, '200': 20000, '300': 18700, '400': 17500, '500': 16400, '600': 15500, '700': 14800, '800': 14300, '900': 13800, '1000': 13300, '1100': 11700, '1200': 9000, '1300': 6200, '1400': 4000, '1500': 2500 } },
  { spec: 'SA-312 TP347', category: 'stainless_steel', stresses: { '-20': 20000, '100': 20000, '200': 20000, '300': 18700, '400': 17500, '500': 16400, '600': 15500, '700': 14800, '800': 14300, '900': 13800, '1000': 13300, '1100': 11700, '1200': 9000, '1300': 6200, '1400': 4000, '1500': 2500 } },
  
  // Forgings
  { spec: 'SA-105', category: 'carbon_steel', stresses: { '-20': 20000, '100': 20000, '200': 20000, '300': 20000, '400': 18800, '500': 17300, '600': 15800, '650': 14900, '700': 13200, '750': 10800, '800': 8000 } },
  { spec: 'SA-182 Gr. F11 Cl. 1', category: 'chrome_moly', stresses: { '-20': 17500, '100': 17500, '200': 17500, '300': 17500, '400': 17500, '500': 17500, '600': 17500, '650': 17500, '700': 17200, '750': 16500, '800': 15000, '850': 12700, '900': 10000, '950': 7400, '1000': 5200 } },
  { spec: 'SA-182 Gr. F11 Cl. 2', category: 'chrome_moly', stresses: { '-20': 22500, '100': 22500, '200': 22500, '300': 22500, '400': 22500, '500': 22500, '600': 22500, '650': 22500, '700': 22100, '750': 21200, '800': 19300, '850': 16300, '900': 12900, '950': 9500, '1000': 6700 } },
  { spec: 'SA-182 Gr. F22 Cl. 1', category: 'chrome_moly', stresses: { '-20': 17500, '100': 17500, '200': 17500, '300': 17500, '400': 17500, '500': 17500, '600': 17500, '650': 17500, '700': 17500, '750': 17500, '800': 17300, '850': 16100, '900': 13900, '950': 11100, '1000': 8300 } },
  { spec: 'SA-182 Gr. F22 Cl. 3', category: 'chrome_moly', stresses: { '-20': 22500, '100': 22500, '200': 22500, '300': 22500, '400': 22500, '500': 22500, '600': 22500, '650': 22500, '700': 22500, '750': 22500, '800': 22200, '850': 20700, '900': 17900, '950': 14300, '1000': 10700 } },
  { spec: 'SA-182 Gr. F304', category: 'stainless_steel', stresses: { '-20': 20000, '100': 20000, '200': 20000, '300': 18700, '400': 17500, '500': 16400, '600': 15500, '700': 14800, '800': 14300, '900': 13800, '1000': 13300, '1100': 12100, '1200': 9700, '1300': 6800, '1400': 4500, '1500': 2800 } },
  { spec: 'SA-182 Gr. F304L', category: 'stainless_steel', stresses: { '-20': 16700, '100': 16700, '200': 16700, '300': 15600, '400': 14600, '500': 13700, '600': 12900, '700': 12300, '800': 11900, '900': 11500, '1000': 11100, '1100': 10100, '1200': 8100, '1300': 5700, '1400': 3800, '1500': 2300 } },
  { spec: 'SA-182 Gr. F316', category: 'stainless_steel', stresses: { '-20': 20000, '100': 20000, '200': 20000, '300': 18700, '400': 17500, '500': 16400, '600': 15500, '700': 14800, '800': 14300, '900': 13800, '1000': 13300, '1100': 11700, '1200': 9000, '1300': 6200, '1400': 4000, '1500': 2500 } },
  { spec: 'SA-182 Gr. F316L', category: 'stainless_steel', stresses: { '-20': 16700, '100': 16700, '200': 16700, '300': 15600, '400': 14600, '500': 13700, '600': 12900, '700': 12300, '800': 11900, '900': 11500, '1000': 11100, '1100': 9800, '1200': 7500, '1300': 5200, '1400': 3300, '1500': 2100 } },
  { spec: 'SA-182 Gr. F321', category: 'stainless_steel', stresses: { '-20': 20000, '100': 20000, '200': 20000, '300': 18700, '400': 17500, '500': 16400, '600': 15500, '700': 14800, '800': 14300, '900': 13800, '1000': 13300, '1100': 11700, '1200': 9000, '1300': 6200, '1400': 4000, '1500': 2500 } },
  { spec: 'SA-182 Gr. F347', category: 'stainless_steel', stresses: { '-20': 20000, '100': 20000, '200': 20000, '300': 18700, '400': 17500, '500': 16400, '600': 15500, '700': 14800, '800': 14300, '900': 13800, '1000': 13300, '1100': 11700, '1200': 9000, '1300': 6200, '1400': 4000, '1500': 2500 } },
  
  // Clad Materials
  { spec: 'SA-263 (304 Clad)', category: 'clad', stresses: { '-20': 20000, '100': 20000, '200': 20000, '300': 18700, '400': 17500, '500': 16400, '600': 15500, '700': 14800, '800': 14300 } },
  { spec: 'SA-263 (316 Clad)', category: 'clad', stresses: { '-20': 20000, '100': 20000, '200': 20000, '300': 18700, '400': 17500, '500': 16400, '600': 15500, '700': 14800, '800': 14300 } },
  { spec: 'SA-264 (304 Clad)', category: 'clad', stresses: { '-20': 20000, '100': 20000, '200': 20000, '300': 18700, '400': 17500, '500': 16400, '600': 15500, '700': 14800, '800': 14300 } },
  { spec: 'SA-264 (316 Clad)', category: 'clad', stresses: { '-20': 20000, '100': 20000, '200': 20000, '300': 18700, '400': 17500, '500': 16400, '600': 15500, '700': 14800, '800': 14300 } },
  
  // Additional materials to reach 100+
  { spec: 'SA-537 Cl. 1', category: 'carbon_steel', stresses: { '-20': 20000, '100': 20000, '200': 20000, '300': 20000, '400': 18800, '500': 17300, '600': 15800, '650': 14900, '700': 13200, '750': 10800, '800': 8000 } },
  { spec: 'SA-537 Cl. 2', category: 'carbon_steel', stresses: { '-20': 22500, '100': 22500, '200': 22500, '300': 22500, '400': 21200, '500': 19500, '600': 17800, '650': 16800, '700': 14900, '750': 12200, '800': 9000 } },
  { spec: 'SA-537 Cl. 3', category: 'carbon_steel', stresses: { '-20': 25000, '100': 25000, '200': 25000, '300': 25000, '400': 23500, '500': 21700, '600': 19800, '650': 18700, '700': 16500, '750': 13600, '800': 10000 } },
  { spec: 'SA-841 Gr. A Cl. 1', category: 'carbon_steel', stresses: { '-20': 20000, '100': 20000, '200': 20000, '300': 20000, '400': 18800, '500': 17300, '600': 15800, '650': 14900, '700': 13200, '750': 10800, '800': 8000 } },
  { spec: 'SA-841 Gr. B Cl. 2', category: 'carbon_steel', stresses: { '-20': 22500, '100': 22500, '200': 22500, '300': 22500, '400': 21200, '500': 19500, '600': 17800, '650': 16800, '700': 14900, '750': 12200, '800': 9000 } },
];

async function seedMaterials() {
  console.log('Connecting to database...');
  const connection = await mysql.createConnection(DATABASE_URL);
  const db = drizzle(connection);
  
  console.log('Seeding material stress values...');
  
  let totalRecords = 0;
  
  for (const material of materials) {
    for (const [tempStr, stress] of Object.entries(material.stresses)) {
      const temp = parseInt(tempStr);
      
      await connection.execute(
        `INSERT INTO materialStressValues (materialSpec, materialCategory, temperature, allowableStress, createdAt) 
         VALUES (?, ?, ?, ?, NOW())
         ON DUPLICATE KEY UPDATE allowableStress = VALUES(allowableStress)`,
        [material.spec, material.category, temp, stress]
      );
      
      totalRecords++;
    }
  }
  
  console.log(`Seeded ${totalRecords} material stress values for ${materials.length} materials`);
  
  await connection.end();
  console.log('Done!');
}

seedMaterials().catch(console.error);
